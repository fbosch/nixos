use flake

# Ensure pre-commit hooks are installed
# This runs the shellHook to install hooks if needed
watch_file flake.nix
watch_file flake.lock
if [ ! -f .git/hooks/pre-commit ] || ! grep -q "pre-commit-wrapper" .git/hooks/pre-commit 2>/dev/null; then
  log_status "Installing pre-commit hooks..."
  nix develop --command bash -c ':'
fi
